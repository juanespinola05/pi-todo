var L=Object.defineProperty,$=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var T=(t,o,l)=>o in t?L(t,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[o]=l,h=(t,o)=>{for(var l in o||(o={}))P.call(o,l)&&T(t,l,o[l]);if(y)for(var l of y(o))V.call(o,l)&&T(t,l,o[l]);return t},_=(t,o)=>$(t,D(o));import{r as n,j as b,R as C,a as z}from"./vendor.7bcb8d53.js";const B=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function l(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(a){if(a.ep)return;a.ep=!0;const r=l(a);fetch(a.href,r)}};B();function k(t,o){const[l,s]=n.exports.useState({loading:!0,error:!1}),[a,r]=n.exports.useState(o);return n.exports.useEffect(()=>{setTimeout(()=>{try{const i=localStorage.getItem(t);let p;i?p=JSON.parse(i):(p=[...o],localStorage.setItem(t,JSON.stringify(p))),r(p),s({loading:!1,error:!1})}catch(i){s({loading:!1,error:!0}),console.error(i)}},2e3)},[]),{items:a,saveItems:i=>{try{localStorage.setItem(t,JSON.stringify(i)),r(i)}catch{s({loading:!1,error:!0})}},statusData:l}}const e=b.exports.jsx,c=b.exports.jsxs,R="TODO_V1",g=n.exports.createContext();let Z={done:!0,pending:!1};function j(t){const{items:o,saveItems:l,statusData:s}=k(R,[]),a={category:"all",searchValue:"",status:"all"},[r,d]=n.exports.useState(a),[i,p]=n.exports.useState(o),[m,N]=n.exports.useState(!1),E=u=>{const f=o.findIndex(x=>x.text===u);o[f].completed=!o[f].completed,l([...o])},S=u=>{const f=o.findIndex(x=>x.text===u);o.splice(f,1),l([...o])},M=u=>{o.push(u),l([...o])},I=()=>{N(u=>!u)};return n.exports.useEffect(()=>{p(o.filter(u=>{let{status:f,category:x,searchValue:O}=r;const F=x==="all"||u.category===x,A=u.text.toLowerCase().includes(O.toLowerCase()),H=u.completed===Z[f]||f==="all";return F&&A&&H}))},[r,o]),e(g.Provider,{value:{todos:o,statusData:s,filterParameters:r,setFilterParameters:d,displayedTodos:i,toggleCompleteTodo:E,deleteTodo:S,createTodo:M,openModal:m,toggleModal:I},children:t.children})}function W(){const{filterParameters:t,setFilterParameters:o,completed:l,total:s}=n.exports.useContext(g),a=r=>{o(d=>_(h({},d),{searchValue:r.target.value}))};return c("header",{className:"searchHeader",children:[e(K,{}),c("div",{className:"searchHeader__search",children:[e("input",{type:"text",value:t.searchValue,placeholder:"Find your Todo's",className:"searchHeader__search_input",onChange:a}),e("i",{className:"searchHeader__search_icon"})]})]})}function q(){const{statusData:t,displayedTodos:o,toggleCompleteTodo:l,deleteTodo:s}=n.exports.useContext(g);return e("main",{className:"todolistMain",children:c("ul",{className:"todolistMain__ul no-scroll",children:[t.error&&e(X,{}),t.loading&&e(Q,{}),!t.loading&&!o.length&&e("p",{style:{textAlign:"center",color:"#777"},children:"Create your first TODO"}),o.map((a,r)=>e(J,{index:r,text:a.text,completed:a.completed,toggleCompleteTodo:l,deleteTodo:s},a.text))]})})}function J({text:t,completed:o,index:l,toggleCompleteTodo:s,deleteTodo:a}){const r={type:"checkbox",id:"completed"+l,className:"todolistMain__ul__li_input"};return o&&(r.defaultChecked=o),c("li",{className:"todolistMain__ul__li",children:[e("input",_(h({},r),{onChange:()=>s(t)})),e("label",{htmlFor:"completed"+l,className:"completed"}),e("p",{className:"todolistMain__ul__li_text",children:t}),e("button",{className:"todolistMain__ul__li_button",onClick:()=>a(t)})]})}function K(){const{todos:t}=n.exports.useContext(g),o=t.filter(s=>!!s.completed).length,l=t.length!==0?`${o*100/t.length}%`:"0px";return c("div",{className:"counter-container",children:[c("h2",{className:"counterText",children:["You have completed ",o," out of ",t.length," Todo's"]}),e("div",{className:"counter-progress",children:e("div",{style:{width:l},className:"counter-progress_value"})})]})}function U(){const{toggleModal:t}=n.exports.useContext(g);return e("button",{onClick:t,className:"todolistMain_createButton",children:"New task"})}function Y({children:t}){return C.createPortal(e("div",{className:"modal-container",children:t}),document.getElementById("modal"))}function G(){const[t,o]=n.exports.useState(""),[l,s]=n.exports.useState("all"),{toggleModal:a,createTodo:r}=n.exports.useContext(g),d=m=>{m.target.tagName==="SELECT"?s(m.target.value):o(m.target.value)};return c("form",{onSubmit:m=>{m.preventDefault(),r({text:t,completed:!1,category:l}),a()},className:"newTodoForm",children:[c("div",{className:"newTodoForm__category",children:[e("label",{htmlFor:"categories-select",children:"Category"}),e(w,{handleChange:d})]}),e("textarea",{className:"newTodoForm__input",id:"textareaText",placeholder:"Type your TODO",onChange:d,resize:"false"}),c("div",{className:"newTodoForm__button-container",children:[e("button",{type:"button",className:"newTodoForm__cancel",onClick:m=>{m.target.value="",a()},children:"Cancel"}),e("button",{type:"submit",disabled:!t.length,className:"newTodoForm__add",children:"Add"})]})]})}function Q(){const t=[];for(let o=0;o<5;o++)t.push(c("li",{className:"loading-item",children:[e("div",{className:"loading-checkbox"}),e("div",{className:"loading-text"}),e("div",{className:"loading-button"})]},o));return t}function X(){return e("div",{className:"error-container",children:e("div",{className:"error-x",children:"\xD7"})})}var ee="/pi-todo/assets/logo.5d930651.png";function te(){return c("header",{className:"header",children:[c("div",{className:"header__logo",title:"Todo App by Please Imagine",children:[e("img",{src:ee,alt:"",className:"header__logo_img"}),e("h1",{className:"header__logo_title",children:"PI Todo"})]}),e(U,{})]})}function oe(){const[t,o]=n.exports.useState(window.innerWidth),{setFilterParameters:l}=n.exports.useContext(g);n.exports.useEffect(()=>{const r=()=>o(window.innerWidth);return window.addEventListener("resize",r),()=>window.removeEventListener(r)},[]);function s(){l(r=>_(h({},r),{status:document.querySelector('input[name="filter"]:checked').value,category:document.querySelector("#categories-select").value}))}const a=t<=650;return e("section",{className:"toolbar",children:c("div",{className:"toolbar__container",children:[c("fieldset",{className:"toolbar__filter-container",onChange:s,children:[c("div",{children:[e("input",{defaultChecked:!0,className:"toolbar__filter-container_input",type:"radio",name:"filter",id:"filter-all",value:"all"}),c("label",{className:"toolbar__filter-container_label",htmlFor:"filter-all",children:[a&&e(le,{size:25}),!a&&e("span",{className:"filter-button",children:"All"})]})]}),c("div",{children:[e("input",{className:"toolbar__filter-container_input",type:"radio",name:"filter",id:"filter-done",value:"done"}),c("label",{className:"toolbar__filter-container_label",htmlFor:"filter-done",children:[a&&e(ce,{size:25}),!a&&e("span",{className:"filter-button",children:"Done"})]})]}),c("div",{children:[e("input",{className:"toolbar__filter-container_input",type:"radio",name:"filter",id:"filter-todo",value:"pending"}),c("label",{className:"toolbar__filter-container_label",htmlFor:"filter-todo",children:[a&&e(se,{size:25}),!a&&e("span",{className:"filter-button",children:"Pending"})]})]})]}),e("div",{className:"toolbar__categories-container",children:e(w,{handleChange:s})}),e("div",{className:"toolbar__clear-container",children:e("button",{className:"toolbar__clearbutton",children:"Clear All"})})]})})}const ae=t=>n.exports.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",id:"Outline",viewBox:"0 0 24 24",width:"1em",height:"1em"},t),n.exports.createElement("path",{d:"M7,6H23a1,1,0,0,0,0-2H7A1,1,0,0,0,7,6Z"}),n.exports.createElement("path",{d:"M23,11H7a1,1,0,0,0,0,2H23a1,1,0,0,0,0-2Z"}),n.exports.createElement("path",{d:"M23,18H7a1,1,0,0,0,0,2H23a1,1,0,0,0,0-2Z"}),n.exports.createElement("circle",{cx:2,cy:5,r:2}),n.exports.createElement("circle",{cx:2,cy:12,r:2}),n.exports.createElement("circle",{cx:2,cy:19,r:2})),re=t=>n.exports.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",id:"Outline",viewBox:"0 0 24 24",width:"1em",height:"1em"},t),n.exports.createElement("path",{d:"M19,0H5A5.006,5.006,0,0,0,0,5V19a5.006,5.006,0,0,0,5,5H19a5.006,5.006,0,0,0,5-5V5A5.006,5.006,0,0,0,19,0Zm3,19a3,3,0,0,1-3,3H5a3,3,0,0,1-3-3V5A3,3,0,0,1,5,2H19a3,3,0,0,1,3,3Z"}),n.exports.createElement("path",{d:"M9.333,15.919,5.414,12A1,1,0,0,0,4,12H4a1,1,0,0,0,0,1.414l3.919,3.919a2,2,0,0,0,2.829,0L20,8.081a1,1,0,0,0,0-1.414h0a1,1,0,0,0-1.414,0Z"})),ne=t=>n.exports.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",id:"Outline",viewBox:"0 0 24 24",width:"1em",height:"1em"},t),n.exports.createElement("path",{d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm0,22A10,10,0,1,1,22,12,10.011,10.011,0,0,1,12,22Z"}),n.exports.createElement("path",{d:"M12,6a1,1,0,0,0-1,1v4.325L7.629,13.437a1,1,0,0,0,1.062,1.7l3.84-2.4A1,1,0,0,0,13,11.879V7A1,1,0,0,0,12,6Z"}));function v({type:t,size:o,onClick:l,color:s="#777777"}){const a=o+"px",r={width:a,height:a};return e("span",{className:"todoicon-container",style:r,onClick:l,children:{all:i=>e(ae,{className:"todoicon",style:r,fill:s}),done:i=>e(re,{className:"todoicon",style:r,fill:s}),pending:i=>e(ne,{className:"todoicon",style:r,fill:s})}[t](o)})}function le({size:t}){return e(v,{type:"all",size:t})}function se({size:t}){return e(v,{type:"pending",size:t})}function ce({size:t}){return e(v,{type:"done",size:t})}function w({handleChange:t}){const o={id:"categories-select"};return t&&(o.onChange=t),c("div",{className:"category__container",children:[c("select",_(h({className:"category-select"},o),{children:[e("option",{value:"all",children:"All"}),e("option",{value:"estudio",children:"Estudio"}),e("option",{value:"facultad",children:"Facultad"}),e("option",{value:"facultad",children:"Entregas"}),e("option",{value:"trabajo",children:"Trabajo"}),e("option",{value:"otros",children:"Otros"})]})),e("span",{className:"category-focus"})]})}function ie(){const{openModal:t}=n.exports.useContext(g);return c(n.exports.Fragment,{children:[e(te,{}),c("section",{className:"todolistContainer",children:[e(W,{}),e(q,{}),t&&e(Y,{children:e(G,{})})]}),e(oe,{})]})}function de(){return e(j,{children:e(ie,{})})}C.render(e(z.StrictMode,{children:e(de,{})}),document.getElementById("root"));
